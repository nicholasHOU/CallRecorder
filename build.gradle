buildscript {
    repositories {

        maven {
            url getProperty("MAVEN_REPO")
            credentials {
                username = getProperty("MAVEN_USER")
                password = getProperty("MAVEN_PASS")
            }
        }
        mavenCentral()
        jcenter {
            url "http://10.69.213.71:8081/nexus/content/repositories/jcenter/"
        }
    }
    dependencies {
        classpath 'com.gutils.apkfly:plugin:2.3.0.plus2'
    }
}

allprojects {
    repositories {

        maven {
            url getProperty("MAVEN_REPO")
            credentials {
                username = getProperty("MAVEN_USER")
                password = getProperty("MAVEN_PASS")
            }
        }

        jcenter {
            url "http://10.69.213.71:8081/nexus/content/repositories/jcenter/"
        }

        // 视频SDK开发地址
        maven { url "http://10.69.213.76:8081/nexus/content/repositories/snapshots/" }

        //视频SDK生产地址
        maven { url "http://10.69.213.76:8081/nexus/content/repositories/releases/" }

        maven { url "http://10.69.213.71:8081/nexus/content/repositories/gomeMaven/" }

        maven { url "http://10.69.213.71:8081/nexus/content/repositories/MXCentral/" }
        mavenCentral()


    }
    ext {
        compileSdkVersion = getProperty("COMPILE_SDK_VERSION") as Integer
        buildToolsVersion = getProperty("BUILD_TOOLS_VERSION")
        targetSdkVersion = getProperty("TARGET_SDK_VERSION") as Integer
        minSdkVersion = getProperty("MIN_SDK_VERSION") as Integer
        proDeps = false //改false 时需要把xiaomi的几个工程注掉
        isXiaoMi = false
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

ext.deps = [
        SRecyclerview: 'com.android.support:recyclerview-v7:23.2.1',
        SAppcompat: 'com.android.support:appcompat-v7:23.2.1',
        SDesign: 'com.android.support:design:23.2.1',
        SPercent: 'com.android.support:percent:23.0.1',
        SFresco: 'com.facebook.fresco:fresco:1.1.0',
        SAnimatedGif:'com.facebook.fresco:animated-gif:1.1.0',
        SAnimatedWebp:'com.facebook.fresco:animated-webp:1.1.0',
        SWebpsupport:'com.facebook.fresco:webpsupport:1.1.0',
        SimagepipelineOkhttp3: 'com.facebook.fresco:imagepipeline-okhttp3:1.1.0',

        GSafekeyboard: 'com.bangcle:safeKeyboard:1.0.6',
        GSecret: 'com.gome.ecmall:secret:'+getProperty('AAR_GSECRET_VERSION')+'@aar',
        GBuildConfig: 'com.gome.ecmall:buildconfig:'+getProperty('AAR_GCONFIG_VERSION'),
        GPlugin: '',
        GPatch: 'com.gome.ecmall:patch:'+getProperty('AAR_GPATCH_VERSION')+'@aar',
        GTheme: 'com.gome.ecmall:theme:'+getProperty('AAR_GTHEME_VERSION')+'@aar',
        MImlibrary: 'com.gome.ecmall:mim:'+getProperty('AAR_MIM_VERSION')+'@aar',

        GAnalytics: 'com.gome.ecmall:analytics:'+ getProperty("AAR_GANALYTICS_VERSION") +'@aar',

        GFrame: rootProject.ext.proDeps ? project(':GFrame') :'com.gome.ecmall:frame:'+getProperty('AAR_GFRAME_VERSION')+'@aar',
        GCore: rootProject.ext.proDeps ? project(':GCore'):'com.gome.ecmall:core:'+getProperty('AAR_GCORE_VERSION')+'@aar',
        GWidget: rootProject.ext.proDeps ? project(':GWidget'):'com.gome.ecmall:widget:'+getProperty('AAR_GWIDGET_VERSION')+'@aar',
        GPush: rootProject.ext.proDeps ? project(':GPush'):'com.gome.ecmall:push:'+getProperty('AAR_GPUSH_VERSION')+'@aar',
//        GShare: rootProject.ext.proDeps ? project(':GShare'):'com.gome.ecmall:share:'+getProperty('AAR_GSHARE_VERSION')+'@aar',
        GLogin: rootProject.ext.proDeps ? project(':GLogin'):'com.gome.ecmall:login:'+getProperty('AAR_GLOGIN_VERSION')+'@aar',
        GPullrefresh:rootProject.ext.proDeps ? project(':GPullrefresh'): 'com.gome.ecmall:pullrefresh:'+getProperty('AAR_GPULLREFRESH_VERSION')+'@aar',
        GUpdate: rootProject.ext.proDeps ? project(':GUpdate'):'com.gome.ecmall:update:'+getProperty('AAR_GUPDATE_VERSION')+'@aar',
        GCmbPay:rootProject.ext.proDeps ? project(':GCmbPay'): 'com.gome.cmbpay:cmbpay:'+getProperty('AAR_CMBPAY_VERSION')+'@aar',
        GTongBaoSdk: rootProject.ext.proDeps ? project(':GTongBaoSdk'):'com.gome.ecmall:gomepay:'+getProperty('AAR_GOMEPAY_VERSION')+'@aar',
        GBusiness: rootProject.ext.proDeps ? project(':GBusiness'):'com.gome.ecmall:business:' + getProperty('AAR_GBUSINESS_VERSION') + '@aar',
        GIm:rootProject.ext.proDeps ? project(':GIm'): 'com.gome.ecmall.home:im:' + getProperty('AAR_GIM_VERSION') + '@aar',
        GHybrid: rootProject.ext.proDeps ? project(':GHybrid'):'com.gome.ecmall:gh5:' + getProperty('AAR_GH5_VERSION') + '@aar',
        GFinanceCommon: rootProject.ext.proDeps ? project(':GFinanceCommon'):'com.gome.ecmall:financecommon:'+getProperty('AAR_GFINANCE_COMMON_VERSION')+'@aar',
        GFinance: rootProject.ext.proDeps ? project(':GFinance'):'com.gome.ecmall:finance:' + getProperty('AAR_GFINANCE_VERSION') + '@aar',
        GMeiyingbao:rootProject.ext.proDeps ? project(':GMeiyingbao'): 'com.gome.ecmall:meiyingbao:' + getProperty('AAR_GMEIYINGBAO_VERSION') + '@aar',
        GPhoneRecharge:rootProject.ext.proDeps ? project(':GPhoneRecharge'): 'com.gome.ecmall:phonerecharge:' + getProperty('AAR_GPHONERECHARGE_VERSION') + '@aar',
        GMovie: rootProject.ext.proDeps ? project(':GMovie'):'com.gome.ecmall:movie:' + getProperty('AAR_GMOVIE_VERSION') + '@aar',
        GStoreSearch:rootProject.ext.proDeps ? project(':GStoreSearch'): 'com.gome.ecmall:storesearch:' + getProperty('AAR_GSTORESEARCH_VERSION') + '@aar',
        GReturn: rootProject.ext.proDeps ? project(':GReturn'):'com.gome.ecmall:greturn:' + getProperty('AAR_GRETURN_VERSION') + '@aar',
        GMaterialOrder: rootProject.ext.proDeps ? project(':GMaterialOrder'):'com.gome.ecmall:materialorder:' + getProperty('AAR_GMATERIAL_ORDER_VERSION') + '@aar',
        GProductDetail:rootProject.ext.proDeps ? project(':GProductDetail'): 'com.gome.ecmall:product:' + getProperty('AAR_GPRODUCT_VERSION') + '@aar',
        GTQDetail:rootProject.ext.proDeps ? project(':GTQDetail'): 'com.gome.ecmall:tqdetail:' + getProperty('AAR_GTQ_DETAIL_VERSION') + '@aar',
  //      GZhibo: rootProject.ext.proDeps ? project(':GZhibo'):'com.gome.ecmall:zhibo:' + getProperty('AAR_GZHIBO_VERSION') + '@aar',
        GHotfix:rootProject.ext.proDeps ? project(':GHotfix'): 'com.gome.ecmall:hotfix:' + getProperty('AAR_HOTFIX_VERSION') + '@aar',
        GZxingScan: rootProject.ext.proDeps ? project(':GZxingScan'):'com.gome.ecmall:gzxing:' + getProperty('AAR_GZING_VERSION') + '@aar',
        GGomeCurrency:rootProject.ext.proDeps ? project(':GGomeCurrency'): 'com.gome.ecmall:ggomecurrency:' + getProperty('AAR_GGOMECURRENCY_VERSION') + '@aar',
        GIMRedEnvelope:rootProject.ext.proDeps ? project(':GIMRedEnvelope'): 'com.gome.ecmall:imredenvelope:' + getProperty('AAR_IMREDENVELOPE_VERSION') + '@aar',

//        MPulltorefresh: rootProject.ext.proDeps ? project(':MPulltorefresh') : 'com.gome.ecmall:mpulltorefresh:'+getProperty('AAR_MPULLTOREFRESH_VERSION')+'@aar',
//        MFramework2: rootProject.ext.proDeps ? project(':MFramework2') :  'com.gome.ecmall:mframe2:'+getProperty('AAR_MFRAME2_VERSION')+'@aar',
//        MStatistics: rootProject.ext.proDeps ? project(':MStatistics') :'com.gome.ecmall:mstatistics:'+getProperty('AAR_MSTATISTICS_VERSION')+'@aar',
        MSelectPhoto: 'com.gome.ecmall:mselectphoto:'+getProperty('AAR_MSELECT_PHOTO_VERSION')+'@aar',
//        MRouter:rootProject.ext.proDeps ? project(':MRouter') : 'com.gome.ecmall:mrouter:'+getProperty('AAR_MROUTER_VERSION')+'@aar',
        MCommon: rootProject.ext.proDeps ? project(':MCommon') :'com.gome.ecmall:mcommon:'+getProperty('AAR_MCOMMON_VERSION')+'@aar',
//        MWidget: rootProject.ext.proDeps ? project(':MWidget') :'com.gome.ecmall:mwidget:'+getProperty('AAR_MWIDGET_VERSION')+'@aar',
        MShare: rootProject.ext.proDeps ? project(':MShare') :'com.gome.ecmall:mshare:'+getProperty('AAR_MSHARE_VERSION')+'@aar',
//        MMeixinpay: rootProject.ext.proDeps ? project(':MMeixinpay') :'com.gome.ecmall:mpay:'+getProperty('AAR_MPAY_VERSION')+'@aar',
        MMeixinplayer:rootProject.ext.proDeps ? project(':MMeixinplayer') : 'com.gome.ecmall:mplayer:'+getProperty('AAR_MPLAYER_VERSION')+'@aar',
//        MCore: rootProject.ext.proDeps ? project(':MCore') :'com.gome.ecmall:mcore:'+getProperty('AAR_MCORE_VERSION')+'@aar',
        MApp:rootProject.ext.proDeps ? project(':MApp') : 'com.gome.ecmall:mapp:' + getProperty('AAR_MAPP_VERSION') + '@aar'
]


//！！！Gradle 版本管理工具废止，请使用【python apkfly.py clone】！！！
//apply plugin: 'com.gutils.apkfly.git'
//
//git {
//    order true
//    cleanTest false
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-admin/buildsrc.git", "dev"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android/GWorkspace.git", "master"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-admin/GSafekeyboard.git", "mergeDev"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-admin/GSecret.git", "master"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-common/GBuildConfig.git", "master"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-common/GPlugin.git", "master"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-common/GPatch.git", "master"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-common/GTheme.git", "mergeDev"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-business/MImlibrary.git", "mergeDev"
//    //url "git@gitlab.ds.gome.com.cn:mobile-android-business/MSelectPhoto.git", "mergeDev"
//
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GFrame.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GCore.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GWidget.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GPush.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GShare.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GLogin.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GPullrefresh.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GUpdate.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GCmbPay.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GTongBaoSdk.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GBusiness.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GGomeCurrency.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GIm.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GHybrid.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GFinanceCommon.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GFinance.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GMeiyingbao.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GPhoneRecharge.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GMovie.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GStoreSearch.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GReturn.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GMaterialOrder.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GProductDetail.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GTQDetail.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GZhibo.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-common/GHotfix.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/GZxingScan.git", "mergeDev"
////    //--------
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MPulltorefresh.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MFramework2.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MStatistics.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MRouter.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MCommon.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MWidget.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MCore.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MShare.git", "mergeDev"
////    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MMeixinpay.git", "mergeDev"
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MMeixinplayer.git", "mergeDev"
////    //---------
//    url "git@gitlab.ds.gome.com.cn:mobile-android-business/MApp.git", "mergeDev"
//    //---------
//    url "git@gitlab.ds.gome.com.cn:mobile-android/GomePlus.git", "mergeDev"
//}
